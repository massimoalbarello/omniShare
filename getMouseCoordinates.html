<html>
 
<head>
    <script>
    // Create WebSocket connection.
    const socket = new WebSocket('ws://localhost:6969');

    var data;
    // coordinate function that calculate the X
    // coordinate and Y coordinates
    function getCoordinates(event) {
        data = {
            device: "pointer",
            // clientX gives horizontal coordinate
            x: event.clientX,
            // clientY gives vertical coordinates
            y: event.clientY,
            click: false
        }
        console.log(data.x, data.y);
        socket.send(JSON.stringify(data));

        document.getElementById("X").value = data.x;
        document.getElementById("Y").value = data.y;
    }

    window.addEventListener("mouseup", function(e) {
        // gets the object on image cursor position
        var tmp = document.elementFromPoint(data.x, data.y); 
        tmp.click();
        console.log(tmp);
        data = {
            device: "pointer",
            // clientX gives horizontal coordinate
            x: event.clientX,
            // clientY gives vertical coordinates
            y: event.clientY,
            click: true
        }
        socket.send(JSON.stringify(data));
    })

    </script>
</head>
 
<!-- onmousemove event is called when the mouse
     pointer is moving over the screen -->
 
<!-- calling of coordinate function -->
 
<body onmousemove="getCoordinates(event)">

    <!-- X coordinate is stored in X-coordinate variable -->
    X-coordinate
    <input type="text" id="X">
    <br>
    <br>

    <!-- Y coordinate is stored in Y-coordinate variable -->
    Y-coordinate
    <input type="text" id="Y">

</body>
</html>